{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Namandeep Singh\\\\Documents\\\\Project\\\\Dynamix-banner-website\\\\app-ui\\\\src\\\\Components\\\\Banner.js\",\n  _s = $RefreshSig$();\n// import React, { useState, useEffect } from 'react';\n// import axios from 'axios';\n\n// const Banner = () => {\n//   const [visible, setVisible] = useState(false);\n//   const [description, setDescription] = useState('');\n//   const [timer, setTimer] = useState(0);\n//   const [link, setLink] = useState('');\n//   const [countdown, setCountdown] = useState(timer);\n\n//   useEffect(() => {\n//     // Fetch banner data from the backend\n//     axios.get('http://localhost:5000/api/banner')\n//       .then(response => {\n//         const { description, timer, link } = response.data;\n//         setDescription(description);\n//         setTimer(timer);\n//         setLink(link);\n//         setCountdown(timer);\n//         setVisible(true);\n//       })\n//       .catch(error => console.error('Error fetching banner data:', error));\n\n//     // Countdown logic\n//     if (visible) {\n//       const interval = setInterval(() => {\n//         setCountdown(prev => {\n//           if (prev <= 1) {\n//             setVisible(false);\n//             clearInterval(interval);\n//             return 0;\n//           }\n//           return prev - 1;\n//         });\n//       }, 1000);\n//       return () => clearInterval(interval);\n//     }\n//   }, [visible, timer]);\n\n//   if (!visible) return null;\n\n//   return (\n//     <div className=\"banner\">\n//       <p>{description}</p>\n//       <p>{countdown} seconds remaining</p>\n//       {link && <a href={link}>Learn more</a>}\n//     </div>\n//   );\n// };\n\n// export default Banner;\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Container, Typography, Button, Card, CardContent, CircularProgress } from '@mui/material';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Banner = () => {\n  _s();\n  const [banner, setBanner] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [timeRemaining, setTimeRemaining] = useState(0);\n  const [isVisible, setIsVisible] = useState(true);\n  useEffect(() => {\n    axios.get('http://localhost:5000/api/banner').then(response => {\n      setBanner(response.data);\n      setLoading(false);\n      setTimeRemaining(response.data.timer); // Set initial countdown time\n      setIsVisible(response.data.visible); // Set initial visibility\n    }).catch(error => {\n      setError('Error fetching banner data');\n      setLoading(false);\n    });\n  }, []);\n  useEffect(() => {\n    if (timeRemaining > 0) {\n      const interval = setInterval(() => {\n        setTimeRemaining(prevTime => {\n          if (prevTime <= 1) {\n            clearInterval(interval);\n            setIsVisible(false); // Hide banner when timer reaches 0\n            return 0;\n          }\n          return prevTime - 1;\n        });\n      }, 1000);\n      return () => clearInterval(interval); // Cleanup interval on component unmount\n    }\n  }, [timeRemaining]);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: \"sm\",\n      style: {\n        textAlign: 'center',\n        marginTop: '50px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h6\",\n        style: {\n          marginTop: '20px'\n        },\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: \"sm\",\n      style: {\n        textAlign: 'center',\n        marginTop: '50px'\n      },\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h6\",\n        color: \"error\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }, this);\n  }\n  if (!isVisible) {\n    return null; // Don't render anything if the banner is hidden\n  }\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"md\",\n    style: {\n      marginTop: '50px'\n    },\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      variant: \"outlined\",\n      children: /*#__PURE__*/_jsxDEV(CardContent, {\n        style: {\n          textAlign: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h4\",\n          component: \"h1\",\n          gutterBottom: true,\n          children: banner.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          color: \"primary\",\n          href: banner.link,\n          target: \"_blank\",\n          rel: \"noopener noreferrer\",\n          style: {\n            marginTop: '20px'\n          },\n          children: \"Visit Banner Link\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body1\",\n          style: {\n            marginTop: '20px'\n          },\n          children: isVisible ? 'Banner is visible' : 'Banner is hidden'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          color: \"textSecondary\",\n          style: {\n            marginTop: '10px'\n          },\n          children: [\"Countdown Timer: \", formatTime(timeRemaining)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 120,\n    columnNumber: 9\n  }, this);\n};\n\n// Helper function to format time in MM:SS format\n_s(Banner, \"J2Wkh0jp6O7WOxRczO79/ZQDbOc=\");\n_c = Banner;\nconst formatTime = seconds => {\n  const minutes = Math.floor(seconds / 60);\n  const secs = seconds % 60;\n  return `${minutes}:${secs < 10 ? '0' : ''}${secs}`;\n};\nexport default Banner;\nvar _c;\n$RefreshReg$(_c, \"Banner\");","map":{"version":3,"names":["React","useState","useEffect","axios","Container","Typography","Button","Card","CardContent","CircularProgress","jsxDEV","_jsxDEV","Banner","_s","banner","setBanner","loading","setLoading","error","setError","timeRemaining","setTimeRemaining","isVisible","setIsVisible","get","then","response","data","timer","visible","catch","interval","setInterval","prevTime","clearInterval","maxWidth","style","textAlign","marginTop","children","fileName","_jsxFileName","lineNumber","columnNumber","variant","color","component","gutterBottom","description","href","link","target","rel","formatTime","_c","seconds","minutes","Math","floor","secs","$RefreshReg$"],"sources":["C:/Users/Namandeep Singh/Documents/Project/Dynamix-banner-website/app-ui/src/Components/Banner.js"],"sourcesContent":["// import React, { useState, useEffect } from 'react';\r\n// import axios from 'axios';\r\n\r\n// const Banner = () => {\r\n//   const [visible, setVisible] = useState(false);\r\n//   const [description, setDescription] = useState('');\r\n//   const [timer, setTimer] = useState(0);\r\n//   const [link, setLink] = useState('');\r\n//   const [countdown, setCountdown] = useState(timer);\r\n\r\n//   useEffect(() => {\r\n//     // Fetch banner data from the backend\r\n//     axios.get('http://localhost:5000/api/banner')\r\n//       .then(response => {\r\n//         const { description, timer, link } = response.data;\r\n//         setDescription(description);\r\n//         setTimer(timer);\r\n//         setLink(link);\r\n//         setCountdown(timer);\r\n//         setVisible(true);\r\n//       })\r\n//       .catch(error => console.error('Error fetching banner data:', error));\r\n\r\n//     // Countdown logic\r\n//     if (visible) {\r\n//       const interval = setInterval(() => {\r\n//         setCountdown(prev => {\r\n//           if (prev <= 1) {\r\n//             setVisible(false);\r\n//             clearInterval(interval);\r\n//             return 0;\r\n//           }\r\n//           return prev - 1;\r\n//         });\r\n//       }, 1000);\r\n//       return () => clearInterval(interval);\r\n//     }\r\n//   }, [visible, timer]);\r\n\r\n//   if (!visible) return null;\r\n\r\n//   return (\r\n//     <div className=\"banner\">\r\n//       <p>{description}</p>\r\n//       <p>{countdown} seconds remaining</p>\r\n//       {link && <a href={link}>Learn more</a>}\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// export default Banner;\r\n\r\n\r\n\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { Container, Typography, Button, Card, CardContent, CircularProgress } from '@mui/material';\r\n\r\nconst Banner = () => {\r\n    const [banner, setBanner] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n    const [timeRemaining, setTimeRemaining] = useState(0);\r\n    const [isVisible, setIsVisible] = useState(true);\r\n\r\n    useEffect(() => {\r\n        axios.get('http://localhost:5000/api/banner')\r\n            .then(response => {\r\n                setBanner(response.data);\r\n                setLoading(false);\r\n                setTimeRemaining(response.data.timer); // Set initial countdown time\r\n                setIsVisible(response.data.visible); // Set initial visibility\r\n            })\r\n            .catch(error => {\r\n                setError('Error fetching banner data');\r\n                setLoading(false);\r\n            });\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (timeRemaining > 0) {\r\n            const interval = setInterval(() => {\r\n                setTimeRemaining(prevTime => {\r\n                    if (prevTime <= 1) {\r\n                        clearInterval(interval);\r\n                        setIsVisible(false); // Hide banner when timer reaches 0\r\n                        return 0;\r\n                    }\r\n                    return prevTime - 1;\r\n                });\r\n            }, 1000);\r\n\r\n            return () => clearInterval(interval); // Cleanup interval on component unmount\r\n        }\r\n    }, [timeRemaining]);\r\n\r\n    if (loading) {\r\n        return (\r\n            <Container maxWidth=\"sm\" style={{ textAlign: 'center', marginTop: '50px' }}>\r\n                <CircularProgress />\r\n                <Typography variant=\"h6\" style={{ marginTop: '20px' }}>Loading...</Typography>\r\n            </Container>\r\n        );\r\n    }\r\n\r\n    if (error) {\r\n        return (\r\n            <Container maxWidth=\"sm\" style={{ textAlign: 'center', marginTop: '50px' }}>\r\n                <Typography variant=\"h6\" color=\"error\">{error}</Typography>\r\n            </Container>\r\n        );\r\n    }\r\n\r\n    if (!isVisible) {\r\n        return null; // Don't render anything if the banner is hidden\r\n    }\r\n\r\n    return (\r\n        <Container maxWidth=\"md\" style={{ marginTop: '50px' }}>\r\n            <Card variant=\"outlined\">\r\n                <CardContent style={{ textAlign: 'center' }}>\r\n                    <Typography variant=\"h4\" component=\"h1\" gutterBottom>\r\n                        {banner.description}\r\n                    </Typography>\r\n                    <Button\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        href={banner.link}\r\n                        target=\"_blank\"\r\n                        rel=\"noopener noreferrer\"\r\n                        style={{ marginTop: '20px' }}\r\n                    >\r\n                        Visit Banner Link\r\n                    </Button>\r\n                    <Typography variant=\"body1\" style={{ marginTop: '20px' }}>\r\n                        {isVisible ? 'Banner is visible' : 'Banner is hidden'}\r\n                    </Typography>\r\n                    <Typography variant=\"body2\" color=\"textSecondary\" style={{ marginTop: '10px' }}>\r\n                        Countdown Timer: {formatTime(timeRemaining)}\r\n                    </Typography>\r\n                </CardContent>\r\n            </Card>\r\n        </Container>\r\n    );\r\n};\r\n\r\n// Helper function to format time in MM:SS format\r\nconst formatTime = (seconds) => {\r\n    const minutes = Math.floor(seconds / 60);\r\n    const secs = seconds % 60;\r\n    return `${minutes}:${secs < 10 ? '0' : ''}${secs}`;\r\n};\r\n\r\nexport default Banner;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}